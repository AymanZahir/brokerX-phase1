# ADR-003 — Gestion d’erreurs et versionnage interne

**Statut**: Accepté

## Contexte
On veut des réponses d’erreur cohérentes et loguées, sans coupler le domaine aux codes HTTP. Les ports/adapters peuvent évoluer : stabiliser une **v1** durant la phase 1.

## Décision
- Séparer **erreurs métier** (“fonds insuffisants”, “prix hors bandes”) des **erreurs techniques** (DB, réseau).
- Les **use cases** retournent des résultats/erreurs typées ; les **adapters web** mappent vers des codes HTTP.
- **Version interne v1** des interfaces des ports (contrats stables).

## Conséquences
- Logs structurés utiles
- Stabilité des API internes
- Meilleure testabilité des règles
- Nécessite un mapping erreurs → HTTP et des guidelines de log
